job:
  env:
  - secure: "Zj45k8225O1yNiabaho3zeoDhjloReAG4PwKHIgqVQej14kRyNHJo2dzKxm9/EnjPoCdgcVxwg9bqh4TolhQa7FIOSkvnnHjtPj84NazGiBN0YG7am6J5zn06wjLDOubLMlKlZ36a+uA3gZQS5bJKaX3EXHMOhT0T9UONrDFrWVFx0p0Ze0LVMdVqy57M5Y69DVBgmDB7IxfiY30Qh/k14XHATSTJK2LOlvm1gzA/TfcNBF/u1Oelnxup9qm8lYLZDYIaq4aucG3qvwiBOljVLOU+cLi5RVkle9qvGtWyxc+V5bnBthN8URhkaaQCliWlfGEO2Cf4yAvYBTxN0Rlcz+EFaUMxIYAWwSP00N2M/EzAoq64o3o9UR973KgZgHf6uqIZFGdYHoV9/zeW1+PMtexW9998XEXsW7inxURdF/2hMlyN7iH01ulvT4/mV8aQ9ZVcFEceFwiaEvnN6oIvD+lIczhlhg60shhBbdtzC460Ld/MqjO3X+z13tvSV++TwRuh+BB7GHRxa0qqaTsEt8AfjivdRvIvvlN4i4cJde6SrYW/kCInANLMo1YNg5yIxhyY6JfQQbKX/CZG1C4vthka1MDJjUuhX3hmOUxODd+XBTMd8v07ne++li8JznNIAU72HkYlm8gBgOtKKojf3bgEZt9sUQplRF7Z4SmbSo="
  - secure: "WW0XN5GkqSZ3ZVYNVbQfkSrWnhy5mg8Hy/bI+Du+3enfLNTv61aJefPlpL4EOnUaKKruidccxDkvOH0FNvUL3Th5CO3UbPu0QEtGjdWCuVwiC+m10ZcgKSXrjO8EclLOpYusPaz7jDUS/6j9WgnC6MJN56NokrwEliZJ+BRCisCNa/Wt4ZDtGQAP+DVJx6PdHfhOw9jgBVS3Kla0eQUZDwJbMMj2DbcSIoXe5pgxIdXh1WpTzZ7ZrGfjDMJEerpSMH+QkxnJNDP2xmfDvBA8lOMDHOiAfkiI9WFgdljyTnmwCZYVg6iuacjP71TK3iVbjICBpY8IsHenwjmCaRj8rabPzB9s2s7bQpwNoOZ7SqvWyWJiwlFfUHv9WFQJB70bguF9YD65wiSKs+5E+99kK40tutX0wkhLEGQKhUvr8W18tGq6mZJRxFygKBb4L2tdNWhFLYoOMPxfo3dDFPmXUJKH/C9KPo7eCjgBMDFAz0frkz/yY2kBsT+OzsUomQ6CTfdhmrbAjknCyfge1BctBpNToTpbtYQjEE8ZdOv6NqNtT9SM9k4OXfD/b6Bxz/IfiVI/x0G3V7BDXTDq+pGH9SwGno0Rfw/BAJqc9lrt2WtnMLVbuyjfgc6wzf3YhJGRie46foJ6D6zMZ18MxT7R2QNcTT79T3vd5FZEUOnIAjY="
  - secure: "qSXTQMcTcjDRZcyJ2B1rrNf2sfdqJuxvFkBosLAeNIvMHPpoesHDNP0DruVkFXq2+8iyIelOoPLCQyN8NkaMryak6soShfNfrB2/q2iNaTovrrJcuJpIC445xNLXrMODXM1cFPsq+r59ROrINl6H3cGlM74X76Gx8ebJYsnV5/LIG97PhXpKkI2bgriYBlUiqAZaK6N61rfd0qKK6Kx4FKZ3myX9q6d93VTHTl79mIAFjbBHWVPFeLEPOEqTBbL5ufsSCI+OtJEpTcs/x8fMVaAfYdb4QKivC9GPOP88VZpiNHfxWFwWlGAh/3+o/KFLRtyN+Q9X5uik05Afa5tgM9fyHu9OHqc2WdAHgwxyz3rKHEhLagRYtbVUyCUwZJUA/tzF59inMJ51lZ3Png4C8kOml4yfQOUPlSDuEU3J/M7uN4lCBHrgy1P2PK1WcyJBjwx1iBZbXsTBFlaN6ysq/47bhjAy49IkRKlCbNSvQLa36dvKHyoLq25H73JXGZSEBopDt+R/bPl+WCrN4ur62jTqMkSWsfUec+hW17zc+Nam0TRb2+L2WrMhU+zN40RzIUuVScWARI9SSgJeSlttTEQfkPAmAQm8gNqCjE4F85X+CRtnntjaO4ir1CSAePBIBey1RbMHcwa6TjBYeDTYNVPh7MWF+TIcp+qdue7JTko="

  script:
  - docker build --target test --tag todo-app:test .
  - docker run todo-app:test todo_app/tests/test_trello.py
  - docker run --env-file .env.test todo-app:test todo_app/tests/test_app.py
  - docker run todo-app:test todo_app/tests/test_e2e.py